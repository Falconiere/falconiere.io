---
import { getReadingTime } from "@/utils/readingTime";
import MainLayout from "../layouts/MainLayout.astro";
import { getCollection } from "astro:content";
const posts = await getCollection("blog", ({ data }) => {
	return data.draft !== true;
});
---

<MainLayout>
	<main class="max-w-4xl mx-auto p-6">
		<h1 class="text-6xl font-bold dark:text-white pb-2">Latest</h1>
		<p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl">
			This is a collection of my latest blog posts. Enjoy! ðŸš€
		</p>
		<div class="grid pt-4">
			{
				posts.map((post) => (
					<a
						href={`/blog/posts/${post.id}`}
						class="border-t border-gray-200 dark:border-gray-700 group py-6"
					>
						<article class="group cursor-pointer">
							<div class="space-y-2">
								<div class="flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400">
									<span>{post.data.date?.toDateString()}</span>
									<span>â€¢</span>
									<span>{getReadingTime(post.body)}</span>
								</div>
								<h2 class="text-2xl font-semibold group-hover:text-gray-600 dark:text-white dark:group-hover:text-gray-300 transition-colors">
									{post.data.title}
								</h2>
								<p class="text-gray-600 dark:text-gray-400">
									{post.data.description}
								</p>
							</div>
						</article>
					</a>
				))
			}
		</div>
	</main>
</MainLayout>
