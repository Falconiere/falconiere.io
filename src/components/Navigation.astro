---
import { Image } from "astro:assets";
---

<nav class="border-b sticky left-0 top-0 bg-background z-10">
  <div
    class="max-w-4xl mx-auto px-4 md:px-6 py-2 md:py-4 flex justify-between items-center"
  >
    <div class="flex items-center space-x-2">
      <a href="/" class="flex items-center space-x-2">
        <Image
          src="/logo.png"
          alt="Falconiere Barbosa"
          class="w-8 h-8 rounded-full"
          inferSize={true}
          width={32}
          height={32}
        />
        <span class="font-semibold text-xl text-foreground hidden md:inline"
          >Falconiere Barbosa</span
        >
      </a>
    </div>
    <div class="flex items-center space-x-6">
      <a href="/about.html" class="hover:opacity-70">About</a>
      <button
        class="p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
        aria-label="Toggle theme"
        id="theme-selector"
        type="button"
      >
        <i data-lucide="moon" class="h-5 w-5 dark:hidden"></i>
        <i data-lucide="sun" class="h-5 w-5 hidden dark:inline"></i>
      </button>
    </div>
  </div>
</nav>
<script>
  import { createIcons, Sun, Moon } from "lucide";
  createIcons({
    icons: {
      Sun,
      Moon,
    },
  });
  document.getElementById("theme-selector")?.addEventListener("click", (e) => {
    e.preventDefault();
    const root = window.document.documentElement;

    if (localStorage.theme === "dark") {
      localStorage.theme = "light";
      root.classList.remove("dark");
      localStorage.setItem("theme", "light");
    } else {
      localStorage.theme = "dark";
      root.classList.add("dark");
      localStorage.setItem("theme", "dark");
    }
  });
</script>
